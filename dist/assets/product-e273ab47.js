import{u as M}from"./HTTP.request-89c4859f.js";import{h as A,r as d,b as a,f as T}from"./ui-960fc6a0.js";let l=JSON.parse(localStorage.getItem("korzina_data"))||[],o=JSON.parse(localStorage.getItem("like_data"))||[];A();let y=document.querySelector(".product-image__bigger"),I=JSON.parse(localStorage.getItem("open_el"))||[],$=y.getBoundingClientRect().width;y.style.height=$+50+"px";let{request:z}=M();z("/goods","get").then(s=>B(s.filter(e=>e.id===+I[0])));d(o,".saveds__count");d(l,".shop__counter");function B(s){for(let e of s){let h=document.querySelector(".product-info__title h2"),q=document.querySelector(".product-image__scroll"),b=document.querySelector(".product-image__bigger img"),u=document.querySelector(".sale-price"),_=document.querySelector(".original-price"),w=document.querySelector(".product-predesc p"),k=document.querySelector(".minus-btn"),v=document.querySelector(".plus-btn"),S=document.querySelector(".span"),m=document.querySelector(".korzina"),p=document.querySelector(".saved"),H=document.querySelector(".org-img"),L=document.querySelector(".swiper");o.includes(`${e.id}`)&&p.setAttribute("disabled",""),o.includes(`${e.id}`)||(p.onclick=()=>{o.push(`${e.id}`),localStorage.setItem("like_data",JSON.stringify(o)),p.setAttribute("disabled",""),d(o,".saveds__count")}),l.includes(`${e.id}`)&&m.setAttribute("disabled",""),l.includes(`${e.id}`)||(m.onclick=()=>{l.push(`${e.id}`),localStorage.setItem("korzina_data",JSON.stringify(l)),m.setAttribute("disabled",""),d(l,".shop__counter")});let i=0,t=1;if(e.salePercentage>0?i=e.price-Math.floor(e.price/100*e.salePercentage):i=e.price,h.innerHTML=e.title,b.src=e.media[0],q.querySelectorAll("img").forEach(g=>{g.src=e.media[0]}),e.media.length===1)L.style.display="none";else{H.style.display="none";let g=document.querySelector(".swiper-wrapper");for(let n of e.media){let r=document.createElement("div");r.classList.add("swiper-slide"),g.append(r)}let f=document.querySelectorAll(".product-image__bigger .swiper-slide");for(let n=0;n<e.media.length;n++)for(let r=0;r<f.length;r++){let c=document.createElement("img");c.src=e.media[n],c.height=550,c.width=506,c.alt="tide",n===r&&f[r].append(c)}new Swiper(".product-swiper",{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},loop:!0})}i!==e.price?_.innerHTML=a(i)+" сум":_.remove(),u.innerHTML=a(e.price)+" сум",w.innerHTML=e.description,v.onclick=()=>{t++,S.innerHTML=t,u.innerHTML=a(i*t)+" сум"},k.onclick=()=>{t>1&&(t--,S.innerHTML=t,u.innerHTML=a(i*t)+" сум")}}}T();
